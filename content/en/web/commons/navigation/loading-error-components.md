---
title: Loading and error components
weight: 183
description: See how to change the error and loading components
---

---

{{% alert color="warning" %}}
Attention: If you wanna change the entire behavior of the loading, error and success events of the navigation, read [this article]({{< ref path="/web/commons/navigation/navigation-controllers" lang="pt" >}}) instead.
{{% /alert %}}

## Loading Component

Beagle's library already has a default component that's called when a screen loads. If necessary, you are able to change it to a customized one, according to your application's needs.

To create a loading component, follow the steps below:

{{< tabs id="T78" >}}
{{% tab name="React" %}}
On React:

**Step 1:** Create a substitute component;

See an example:

```text
import React, { FC } from 'react'

const CustomLoadingComponent: FC<any> = () => {
  return (
    <div>Carregando</div>
  )
}

export default CustomLoadingComponent
```

**Step 2:** Add it to Beagle's Service components list to substitute the default component:  

```text
import { createBeagleUIService } from '@zup-it/beagle-react'
import CustomLoadingComponent from '../components/CustomLoading'

export default createBeagleUIService<any>({
  baseUrl: "localhost:4000",
  components: {
    "custom:loading":CustomLoadingComponent
  }
})
```
{{% /tab %}}

{{% tab name="Angular" %}}
On Angular

**Step 1:** Create a substitute component. 

You can use angular CLI, if you want, to generate the component automatically, see: 

```text
ng generate component components/custom-loading
```

**Step 2:** After that, open `beagle-components.module.ts` file and add the component to the list: 

```text
import { NgModule } from '@angular/core'
import { CustomLoadingComponent } from './components/custom-loading/custom-loading.component';
// import all the components you're going to use with beagle

const components = [
  CustomLoadingComponent
];

@NgModule({
  declarations: components,
  entryComponents: components,
  exports: components,
  imports: [
    // everything your components depend on
  ],
})
export class BeagleComponentsModule {}

```

**Step 3:** Now, you can replace the default component in `beagle.module.ts` file:

```text
import { BeagleModule } from '@zup-it/beagle-angular';
import { CustomLoadingComponent } from './components/custom-loading/custom-loading.component';
// import all the components you wish to use with Beagle.

@BeagleModule({
  baseUrl: 'http://mypath',
  module: {
    path: './beagle-components.module',
    name: 'BeagleComponentsModule',
  },
  components: {
    'custom:loading': CustomLoadingComponent
  }
})
export class Beagle { }

```

{{% alert color="warning" %}}
The files  `beagle.module.ts` and `beagle-components.module.ts` are automatically generated by Angular's library. If you haven't found it, [**check you installation**]({{< ref path="/web/angular/angular-installing" lang="en" >}}).
{{% /alert %}}
{{% /tab %}}
{{< /tabs >}}

## Error Component

The default error component on Beagle is called when a connection error happens, for example, when a server path cannot be reached.

To this component, the library shows an interface called `ErrorComponentParams`, throught it you have access to the error list and a retry method, responsible to retry the server request. 

### ErrorComponentParams

| Attribute | Type | Definition |
| :--- | :--- | :--- |
| retry | Method | Retry the request to the server. |

When using this interface, you can create a component, see the example below with each framework:

{{< tabs id="T79" >}}
{{% tab name="React" %}}
On React, you have to create a `Functional Component` that uses the `ErrorComponentParams` interface. When using it, you have access to two `props` errors and retry, which are the errors list and the `retry` method, both described on the interface: 

```text
import { ErrorComponentParams } from '@zup-it/beagle-react'
import React, { FC } from 'react'

const CustomErrorComponent: FC<ErrorComponentParams> = ({ retry }) => {

  return (
    <>
      <p>
        Unexpected Error!
      </p>
      <button onClick={retry}>Retry</button>
    </>
  )
}


export default CustomErrorComponent
```

After that, add it to the Beagle Service components list: 

```text
import { createBeagleUIService } from '@zup-it/beagle-react'
import CustomErrorComponent from '../components/CustomError'

export default createBeagleUIService<any>({
  baseUrl: "localhost:4000",
  components: {
    "custom:error":CustomErrorComponent
  }
})
```
{{% /tab %}}

{{% tab name="Angular" %}}
On Angular, create a component, if you prefer use angula cli to automatically generate the inicial structure: 

```text
ng g component components/custom-error
```

Open the  `controller` file of the created component and add the `ErrorComponentParams` interface.  The interface gives access to two `@Inputs` errors and retry, which are the errors list and the request method: 

```text
import { Component, Input } from '@angular/core';
import { ErrorComponentParams } from '@zup-it/beagle-angular';

@Component({
  selector: 'app-custom-error',
  templateUrl: './custom-error.component.html',
  styleUrls: ['./custom-error.component.less']
})
export class CustomErrorComponent implements ErrorComponentParams {

  @Input() retry: () => void;

  handleRetry() {
    this.retry();
  }

}
```

Now, add the created component to the file list `beagle-components.module.ts`

```text
import { NgModule } from '@angular/core';
import { CustomErrorComponent } from './components/custom-error/custom-error.component';
// import all the components you're going to use with beagle

const components = [
  CustomErrorComponent
];

@NgModule({
  declarations: components,
  entryComponents: components,
  exports: components,
  imports: [
    // everything your components depend on
  ],
})
export class BeagleComponentsModule {}

```

Finally, replace the default component to `beagle.module.ts` file:

```text
import { CustomErrorComponent } from './components/custom-error/custom-error.component';
// import all the components you wish to use with Beagle.

@BeagleModule({
  baseUrl: 'http://localhost:4202/assets',
  module: {
    path: './beagle-components.module',
    name: 'BeagleComponentsModule',
  },
  components: {
    'custom:error': CustomErrorComponent
  }
})
export class Beagle { }
```

{{% alert color="warning" %}}
The files  `beagle.module.ts` and `beagle-components.module.ts` are automatically generated by Angular's library. If you haven't found them, [**check your installation**]({{< ref path="/web/angular/angular-installing" lang="en" >}}).
{{% /alert %}}
{{% /tab %}}
{{< /tabs >}}
